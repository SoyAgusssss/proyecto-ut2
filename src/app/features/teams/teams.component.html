<!-- Sección Equipos -->
<section id="equipos" class="container my-5">
  <h2 class="mb-4"><i class="bi bi-people"></i> Equipos registrados</h2>

  <!-- FORMULARIO CREAR EQUIPO (solo admin) -->
  <!-- Cambia *ngIf por tu condición real de rol -->
  <div class="card mb-4 p-3 bg-light" *ngIf="true">
    <h5>Crear nuevo equipo</h5>

    <div class="row g-2">
      <div class="col-md-5">
        <input type="text"
               class="form-control"
               placeholder="Nombre del equipo"
               [(ngModel)]="nuevoEquipo.nombre">
      </div>

      <div class="col-md-4">
        <select class="form-select" [(ngModel)]="nuevoEquipo.deporte">
          <option value="">Selecciona deporte</option>
          <option value="futbol">Fútbol</option>
          <option value="baloncesto">Baloncesto</option>
          <option value="tenis">Tenis</option>
          <option value="voleibol">Voleibol</option>
        </select>
      </div>

      <div class="col-md-3">
        <button class="btn btn-primary w-100" (click)="crearEquipo()">
          Crear
        </button>
      </div>
    </div>
  </div>

  <!-- Filtro y búsqueda -->
  <form class="row gx-2 gy-2 mb-3">
    <div class="col-md-4">
      <select class="form-select"
              [(ngModel)]="filtroCompeticion"
              (change)="onFiltroChange()"
              name="filtroCompeticion">

        <option value="todos">Todas las competiciones</option>
        <option value="futbol">Fútbol</option>
        <option value="baloncesto">Baloncesto</option>
        <option value="tenis">Tenis</option>
        <option value="voleibol">Voleibol</option>
      </select>
    </div>

    <div class="col">
      <input type="search"
             class="form-control"
             placeholder="Buscar equipo por nombre..."
             [(ngModel)]="textoBusqueda"
             (input)="onBusquedaChange()"
             name="textoBusqueda">
    </div>
  </form>

  <!-- LISTADO DINÁMICO DE EQUIPOS DESDE LA BD -->
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">

    <div *ngFor="let eq of equiposFiltrados" class="col equipo-card">
      <div class="card h-100 animate__animated animate__fadeInLeft">
        <div class="card-body">

          <h5 class="card-title">{{ eq.nombre }}</h5>

          <p class="card-text">
            Deporte: <strong>{{ eq.deporte }}</strong>
          </p>

          <button class="btn btn-outline-primary btn-sm btn-animado"
                  data-bs-toggle="modal"
                  data-bs-target="#modalEquipo">
            Ver información
          </button>

        </div>

        <div class="card-footer text-muted text-capitalize">
          {{ eq.deporte }}
        </div>
      </div>
    </div>

  </div>
</section>

<!-- Módulo para mostrar información de equipos -->
<app-modal-teams></app-modal-teams>

